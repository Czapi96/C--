#include <iostream>
#include <ctime>
#include <windows.h>
#include <conio.h>

using namespace std;

    char p1[10][10];
    char p2[10][10];
    int statek[10];
    int x=0;
    int y=0;
    int k=0;


void wyswietlpl()
{
    system("cls");
    cout << "  | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | " << endl;
    for(int i=0;i!=10;i++)
    {
    cout << "-------------------------------------------" << endl;
    cout << i <<" |";
    for(int j=0;j!=10;j++)
    {
    cout << " " << p2[j][i] << " |" ;
    }
    cout << endl;
    }
    cout << "x " << x << "y " << y << endl;

}

void stworzstatek(int x1, int x2)
{
    int obiekt[1][x2];
}
void graczklawisze()
{
        for(int i=9;i!=0;i--)
        {
        int ustawiono=false;
        while(ustawiono==false)
        {
            wyswietlpl();
            unsigned char znak = getch();
            znak = getch();
            switch( znak )
            {
            case 56: //8
            case 72: //gora

                //

                break;

            case 50: //2
            case 80: //doł

                //

                break;

            case 52: //4
            case 75: //lewo

                //

                break;

            case 54: //6
            case 77: //prawo

                //

                break;

            case 49: //1
            case 51: //3
            case 55: //7
            case 57: //9

                //

                break;

            case 53: //5

                //

                break;
            }

        p2[x][y]=1;
        }
        }
}
void graczstawia()
{
    y=5;
    x=5;
    wyswietlpl();
    graczklawisze();
}
void wyswietlpc()
{
    system("cls");
    cout << "  | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | " << endl;
    for(int i=0;i!=10;i++)
    {
    cout << "-------------------------------------------" << endl;
    cout << i <<" |";
    for(int j=0;j!=10;j++)
    {
    cout << " " << p1[j][i] << " |" ;
    }
    cout << endl;
    }
}
void czyszczenie_planszy(  )
{
    int x=0;
    int y=0;
        while(x!=10)
        {
            while(y!=10)
            {
            p1[x][y]=32;
            y++;
            }
        y=0;
        x++;
        }

}
bool sprawdz(int m)
{
int tx=x;
int ty=y;
 for(int j=statek[m];j!=0;j--) // stawianie
            {
                if(k==1)
                {
                    if(p1[tx][ty]==32 && (ty-statek[m])!=10)
                    {
                        ty++;
                    }
                    else
                    {
                        return 0;
                    }
                }
                if(k==2)
                {
                    if(p1[tx][ty]==32 && (tx-statek[m])!=10)
                    {
                        tx++;
                    }
                    else
                    {
                       return 0;
                    }
                }
            }
            return 1;
}
void ai_rozstawia()
{
    for(int i=9; i>-1; i--)
    {
            k=(rand()%2)+1; // 1 pionowo | 2 poziomo
            if(k==1)
            {
                x=(rand()%10);
                y=(rand()%10);
            }
            if(k==2)
            {
                x=(rand()%10);
                y=(rand()%10);
            }
        if(sprawdz(i)==1)
        {
            for(int j=statek[i];j!=0;j--) // stawianie
            {
                if(k==1)
                {
                    p1[x][y]=35;
                    y++;
                }
                else
                {
                p1[x][y]=35;
                x++;
                }
            }
        }
        else
        {
        i++;
        }
}
}
int main()
{

    srand(time(NULL));
    statek[0]=4;
    statek[1]=3;
    statek[2]=3;
    statek[3]=2;
    statek[4]=2;
    statek[5]=2;
    statek[6]=1;
    statek[7]=1;
    statek[8]=1;
    statek[9]=1;

    //czyszczenie planszy
    czyszczenie_planszy();
    //stawianie statków PC
    ai_rozstawia();
    //wyswietl
    wyswietlpc();
    graczstawia();
return 0;

}
